##### DockerFile文件结构

docker镜像的构建文件

###### 规范：

1.每条保留字指令都必须为答谢字母且后面要跟随至少一个参数

2.指令按照从上到下，顺序执行

3.#表示注释

4.每条指令都会创建一个新的镜像层，并对镜像进行提交

###### 执行顺序：

（1）从基础镜像运行一个容器

（2）执行指令并对容器进行修改

（3）执行类似docker commit的操作提交一个新的镜像层

（4）docker再基于刚提交的镜像运行一个新容器

（5）执行dockerfile中的下一条指令直到所有指令都执行完成

##### dockerfile体系结构

1. FROM

   基础镜像，指定当前镜像基于哪个镜像创建

2. MAINTAINER

   镜像维护者的名字和邮箱地址

3. RUN

   容器构建时需要执行的命令

4. EXPOSE

   当前容器对外暴露的端口

5. WORKDIR

   终端进来后默认进入的目录，没有指定默认为根目录

6. ENV

   环境变量

7. ADD

   拷贝加解压缩压缩文件，自动处理URL和解压tar压缩包

8. COPY

   复制文件，从构建上下文目录复制文件到新一层的镜像内

9. VOLUME

   容器数据卷，用于数据保存和持久化工作

10. CMD

    指令的格式，可以有多个指令，只有最后一个有效，CMD会被docker run 后的参数替换

11. ENTRYPOINT

    指定一个容器启动时需要运行的命令，指定容器启动程序和参数

12. ONBUILD

    当构建一个被继承的DockerFile时运行的命令，父镜像在被子继承后父镜像的onbuild触发